<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inicio</title>

    <!-- Incluir Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="public/styles/style.css" rel="stylesheet" type="text/css" />
</head>

<body>

    <div class="container my-5">
        <div class="row justify-content-center">
            <!-- Card 1 -->
            <div class="col-md-3">
                <div class="card" data-bs-toggle="modal" data-bs-target="#modalCalculo">
                    <div class="card-body">
                        <h5 class="card-title">Inecuaciones</h5>
                    </div>
                </div>
            </div>

            <!-- Card 2 -->
            <div class="col-md-3">
                <div class="card" data-bs-toggle="modal" data-bs-target="#modalAlgebra">
                    <div class="card-body">
                        <h5 class="card-title">Funciones</h5>
                    </div>
                </div>
            </div>

            <!-- Card 3 -->
            <div class="col-md-3">
                <div class="card" data-bs-toggle="modal" data-bs-target="#modalGeometria">
                    <div class="card-body">
                        <h5 class="card-title">Limites</h5>
                    </div>
                </div>
            </div>

            <!-- Card 4 -->
            <div class="col-md-3">
                <div class="card" data-bs-toggle="modal" data-bs-target="#modalTrigonometria">
                    <div class="card-body">
                        <h5 class="card-title">Derivadas</h5>
                    </div>
                </div>
            </div>

            <!-- Card 5 -->
            <div class="col-md-3 mt-3">
                <div class="card" data-bs-toggle="modal" data-bs-target="#modalEstadistica">
                    <div class="card-body">
                        <h5 class="card-title">Integrales</h5>
                    </div>
                </div>
            </div>

            <!-- Card 6 -->
            <div class="col-md-3 mt-3">
                <div class="card" data-bs-toggle="modal" data-bs-target="#modalProbabilidad">
                    <div class="card-body">
                        <h5 class="card-title">Series</h5>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Cálculo -->
    <div class="modal fade" id="modalCalculo" tabindex="-1" aria-labelledby="modalCalculoLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalCalculoLabel">Seleccione una categoría - Cálculo</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="categoryFormCalculo">
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="category" id="calculo1" value="Cálculo Avanzado">
                            <label class="form-check-label" for="calculo1">Cálculo Avanzado</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="category" id="calculo2" value="Cálculo Básico">
                            <label class="form-check-label" for="calculo2">Cálculo Básico</label>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                    <button type="button" class="btn btn-primary" id="saveCategoryCalculo">Guardar selección</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Álgebra -->
    <div class="modal fade" id="modalAlgebra" tabindex="-1" aria-labelledby="modalAlgebraLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalAlgebraLabel">Seleccione una categoría - Álgebra</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="categoryFormAlgebra">
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="category" id="algebra1" value="Álgebra Lineal">
                            <label class="form-check-label" for="algebra1">Álgebra Lineal</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="category" id="algebra2" value="Álgebra Básica">
                            <label class="form-check-label" for="algebra2">Álgebra Básica</label>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                    <button type="button" class="btn btn-primary" id="saveCategoryAlgebra">Guardar selección</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Geometría -->
    <div class="modal fade" id="modalGeometria" tabindex="-1" aria-labelledby="modalGeometriaLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalGeometriaLabel">Seleccione una categoría - Geometría</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="categoryFormGeometria">
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="category" id="geometria1" value="Geometría Analítica">
                            <label class="form-check-label" for="geometria1">Geometría Analítica</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="category" id="geometria2" value="Geometría Euclidiana">
                            <label class="form-check-label" for="geometria2">Geometría Euclidiana</label>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                    <button type="button" class="btn btn-primary" id="saveCategoryGeometria">Guardar selección</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Trigonometría -->
    <div class="modal fade" id="modalTrigonometria" tabindex="-1" aria-labelledby="modalTrigonometriaLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalTrigonometriaLabel">Seleccione una categoría - Trigonometría</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="categoryFormTrigonometria">
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="category" id="trigonometria1" value="Trigonometría Avanzada">
                            <label class="form-check-label" for="trigonometria1">Trigonometría Avanzada</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="category" id="trigonometria2" value="Trigonometría Básica">
                            <label class="form-check-label" for="trigonometria2">Trigonometría Básica</label>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                    <button type="button" class="btn btn-primary" id="saveCategoryTrigonometria">Guardar selección</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Estadística -->
    <div class="modal fade" id="modalEstadistica" tabindex="-1" aria-labelledby="modalEstadisticaLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalEstadisticaLabel">Seleccione una categoría - Estadística</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="categoryFormEstadistica">
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="category" id="estadistica1" value="Estadística Descriptiva">
                            <label class="form-check-label" for="estadistica1">Estadística Descriptiva</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="category" id="estadistica2" value="Estadística Inferencial">
                            <label class="form-check-label" for="estadistica2">Estadística Inferencial</label>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                    <button type="button" class="btn btn-primary" id="saveCategoryEstadistica">Guardar selección</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Probabilidad -->
    <div class="modal fade" id="modalProbabilidad" tabindex="-1" aria-labelledby="modalProbabilidadLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="modalProbabilidadLabel">Seleccione una categoría - Probabilidad</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="categoryFormProbabilidad">
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="category" id="probabilidad1" value="Probabilidad Clásica">
                            <label class="form-check-label" for="probabilidad1">Probabilidad Clásica</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="category" id="probabilidad2" value="Probabilidad Condicional">
                            <label class="form-check-label" for="probabilidad2">Probabilidad Condicional</label>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
                    <button type="button" class="btn btn-primary" id="saveCategoryProbabilidad">Guardar selección</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Incluir Bootstrap JS y dependencias -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>

    <!-- JS personalizado -->
    <script>
        // Función para manejar la selección de categoría
        function handleCategorySave(modalId, formId) {
            const selectedCategory = document.querySelector(`#${formId} input[name="category"]:checked`);
            if (selectedCategory) {
                // Almacenar la categoría seleccionada en el localStorage
                localStorage.setItem('selectedCategory', selectedCategory.value);

                // Cerrar el modal
                const modal = bootstrap.Modal.getInstance(document.getElementById(modalId));
                modal.hide();

                // Redirigir a la página del cuestionario
                window.location.href = "/quiz";
            } else {
                alert('Por favor, selecciona una categoría.');
            }
        }

        // Asignar eventos a los botones de guardar
        document.getElementById('saveCategoryCalculo').addEventListener('click', function() {
            handleCategorySave('modalCalculo', 'categoryFormCalculo');
        });

        document.getElementById('saveCategoryAlgebra').addEventListener('click', function() {
            handleCategorySave('modalAlgebra', 'categoryFormAlgebra');
        });

        document.getElementById('saveCategoryGeometria').addEventListener('click', function() {
            handleCategorySave('modalGeometria', 'categoryFormGeometria');
        });

        document.getElementById('saveCategoryTrigonometria').addEventListener('click', function() {
            handleCategorySave('modalTrigonometria', 'categoryFormTrigonometria');
        });

        document.getElementById('saveCategoryEstadistica').addEventListener('click', function() {
            handleCategorySave('modalEstadistica', 'categoryFormEstadistica');
        });

        document.getElementById('saveCategoryProbabilidad').addEventListener('click', function() {
            handleCategorySave('modalProbabilidad', 'categoryFormProbabilidad');
        });
    </script>
</body>

</html>
